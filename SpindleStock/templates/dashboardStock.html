<!DOCTYPE html>
<html>
<head>
<title>Stock Dashboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
    background:#f4f6f9;
    font-family: system-ui;
}

/* Sidebar */
.sidebar {
    height:100vh;
    background:#0f172a;
    padding:20px;
    position:sticky;
    top:0;
}

.sidebar-title {
    color:white;
    font-weight:600;
}

.menu-link {
    display:flex;
    align-items:center;
    padding:12px;
    color:#cbd5f5;
    text-decoration:none;
    border-radius:10px;
    margin-bottom:8px;
    transition:0.2s;
    font-size:15px;
}

.menu-link:hover {
    background:#1e293b;
    color:#38bdf8;
}

.menu-link.active {
    background:#2563eb;
    color:white;
}

/* Cards */
.card {
    border:none;
    border-radius:14px;
    box-shadow:0 6px 18px rgba(0,0,0,0.05);
}

/* Inputs */
label {
    font-size:13px;
    font-weight:600;
    margin-bottom:4px;
}

.input-group-text {
    background:#e5e7eb;
}

.table th {
    font-size:13px;
    color:#475569;
}

.table td {
    vertical-align:middle;
}

.header-title {
    font-weight:600;
}

/* Buttons */
.btn-primary {
    border-radius:10px;
    padding:8px 20px;
    font-weight:500;
}
</style>
</head>

<body>

<div class="container-fluid">
<div class="row">

<!-- Sidebar -->
<div class="col-2 sidebar">

<h4 class="sidebar-title">Spindle Stock</h4>
<hr style="color:#334155;"> 

<a class="menu-link active" href="/stock/">Dashboard</a>
<a class="menu-link" href="/stock/raw">Raw Material</a>
<a class="menu-link" href="/stock/production">Production</a>
<a class="menu-link" href="/stock/inventory">Stock Balance</a>

</div>

<!-- Content -->
<div class="col-10 p-4">

<h3>Stock Dashboard</h3>

<!-- Production Chart -->
<div class="card p-4">
<h5>Production Quantity per Product</h5>
<canvas id="prodChart"></canvas>
</div>

</div>
</div>
</div>

<script id="product-data" type="application/json">
{{ product_data | tojson }}
</script>

<script>
const productData = JSON.parse(
    document.getElementById("product-data").textContent
);

const labels = Object.keys(productData);
const values = Object.values(productData);

new Chart(document.getElementById('prodChart'), {
    type: 'bar',
    data: {
        labels: labels,
        datasets: [{
            label: 'Produced Quantity',
            data: values,
            borderWidth: 1
        }]
    }
});
</script>

</body>
</html>