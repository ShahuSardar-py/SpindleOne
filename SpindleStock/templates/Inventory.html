{% extends "base.html" %}

{% block title %}Stock Balance{% endblock %}

{% block content %}
<div class="flex h-[calc(100vh-72px)]">

    <!-- Sidebar -->
    <div class="w-64 bg-white border-r overflow-y-auto">

        <div class="p-6 border-b border-gray-200">
            <h2 class="text-xl font-bold text-gray-900">SpindleStock</h2>
        </div>

         <div class="p-4">

    <a href="/stock/"
       class="flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors mb-2
       {% if request.endpoint == 'spindlestock.dashboard' %}
           bg-primary-50 text-primary-600 border-r-4 border-primary-600
       {% else %}
           text-gray-600 hover:bg-gray-50
       {% endif %}">
        <span class="text-xl">üìä</span>
        <span>Dashboard</span>
    </a>

    <a href="/stock/raw"
       class="flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors mb-2
       {% if request.endpoint == 'spindlestock.raw_material' %}
           bg-primary-50 text-primary-600 border-r-4 border-primary-600
       {% else %}
           text-gray-600 hover:bg-gray-50
       {% endif %}">
        <span class="text-xl">üì¶</span>
        <span>Raw Material</span>
    </a>

    <a href="/stock/production"
       class="flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors mb-2
       {% if request.endpoint == 'spindlestock.production' %}
           bg-primary-50 text-primary-600 border-r-4 border-primary-600
       {% else %}
           text-gray-600 hover:bg-gray-50
       {% endif %}">
        <span class="text-xl">üè≠</span>
        <span>Production</span>
    </a>

    <a href="/stock/inventory"
       class="flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors
       {% if request.endpoint == 'spindlestock.inventory' %}
           bg-primary-50 text-primary-600 border-r-4 border-primary-600
       {% else %}
           text-gray-600 hover:bg-gray-50
       {% endif %}">
        <span class="text-xl">üìã</span>
        <span>Stock Balance</span>
    </a>

</div>
    </div>

    <!-- Content -->
    <div class="flex-1 p-6 overflow-y-auto">

        <h3 class="text-2xl font-semibold mb-6">
            Available Stock
        </h3>

        <div class="card p-6">

            <div class="overflow-x-auto">
                <table class="min-w-full text-sm">

                    <thead class="border-b bg-gray-50 text-gray-600">
                        <tr>
                            <th class="text-left px-4 py-3">Material</th>
                            <th class="text-left px-4 py-3">Remaining Qty</th>
                            <th class="text-left px-4 py-3">Inward Date</th>
                            <th class="text-left px-4 py-3">Expiry Date</th>
                        </tr>
                    </thead>

                    <tbody class="divide-y">

                        {% for m in materials %}
                        <tr class="hover:bg-gray-50">
                            <td class="px-4 py-3 font-medium text-gray-800">
                                {{ m.name }}
                            </td>

                            <td class="px-4 py-3">
                                {{ m.remaining }} {{ m.unit }}
                            </td>

                            <td class="px-4 py-3">
                                {{ m.inward_date.strftime("%d %b %Y") if m.inward_date else "" }}
                            </td>

                            <td class="px-4 py-3">
                                {{ m.expiry_date.strftime("%d %b %Y") if m.expiry_date else "" }}
                            </td>
                        </tr>
                        {% endfor %}

                    </tbody>

                </table>
            </div>

        </div>

    </div>

</div>
{% endblock %}